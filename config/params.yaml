# Model Parameters
models:
  stt_model_name: "openai/whisper-base"
  sentiment_model_name: "distilbert-base-uncased-finetuned-sst-2-english"

#Training - Confidence Model 
confidence_model_params:
  n_estimators: 100
  random_state: 42
  test_size: 0.2

# Database Component
database:
  db_type: "postgresql"

# NLP Analyzer Component
nlp_analysis:
  models:
    whisper_model: "base"
    whisper_language: "en"
    spacy_model: "en_core_web_sm"
    transformer_model: "all-MiniLM-L6-v2"
  
  processing:
    pause_threshold: 0.4  # Seconds to consider a gap a "pause"

  # Scoring Thresholds & Penalties (Phase 1 Quality Score)
  scoring:
    # 1. Speech Fluency
    wpm_min: 90
    wpm_max: 180
    wpm_strict_min: 100
    wpm_strict_max: 160
    penalty_wpm_high: 10
    penalty_wpm_med: 5
    
    rhythm_stability_high: 0.35
    rhythm_stability_med: 0.25
    penalty_rhythm_high: 8
    penalty_rhythm_med: 4

    # 2. Pause & Hesitation
    pause_ratio_high: 0.30
    pause_ratio_med: 0.20
    penalty_pause_ratio_high: 12
    penalty_pause_ratio_med: 6
    
    avg_pause_high: 1.5
    avg_pause_med: 1.0
    penalty_avg_pause_high: 6
    penalty_avg_pause_med: 3
    
    filler_rate_high: 0.12
    filler_rate_med: 0.08
    penalty_filler_high: 7
    penalty_filler_med: 4

    # 3. Linguistic Clarity
    lexical_richness_low: 0.30
    lexical_richness_med: 0.40
    penalty_lexical_high: 12
    penalty_lexical_med: 6
    
    repetition_ratio_high: 0.25
    repetition_ratio_med: 0.18
    penalty_repetition_high: 8
    penalty_repetition_med: 4

    # 4. Structural Stability
    sentence_length_std_high: 6
    sentence_length_std_med: 4
    penalty_sent_std_high: 6
    penalty_sent_std_med: 3
    
    aux_verb_ratio_high: 0.12
    penalty_aux_verb: 4
    
    semantic_instability_high: 0.40
    semantic_instability_med: 0.30
    penalty_semantic_high: 6
    penalty_semantic_med: 3

    

# CV Analyzer Component
cv_analysis:
  general:
    min_detection_confidence: 0.5
    min_tracking_confidence: 0.5
    video_fps_fallback: 30.0

  head_movement:
    movement_threshold_px: 4          # Min pixels to count as movement
    facing_threshold: 20              # Ear distance diff to detect turning
    pitch_neutral_pct: 0.15           # 15% deviation for Up/Down
    smoothing_window: 3               # Frame window for jitter reduction
    major_event_duration: 2.0         # Seconds to count as a "Major Distraction"
    time_gap_tolerance: 0.2           # Seconds to bridge small gaps in events
    
  eye_gaze:
    calibration_duration: 3.0         # Seconds to scan baseline eyes
    movement_threshold: 0.004         # Normalized distance deviation
    min_event_duration: 0.6           # Seconds to register a gaze shift
    up_sensitivity_multiplier: 0.2    # Lower value makes "Looking Up" easier to detect

  expression:
    calibration_frames: 20            # Frames to scan for neutral face
    frame_skip: 3                     # Analyze every 3rd frame to save CPU
    
    # Universal Emotion Thresholds
    thresh_happy: 0.52
    thresh_surprise: 0.12
    
    # Nervousness Sensitivity (Multipliers applied to Baseline)
    # 0.75 means: If lip thickness drops to 75% of normal, flag as compressed.
    sensitivity_lip_thickness: 0.75   
    sensitivity_brow_squeeze: 0.93    
    sensitivity_brow_drop: 0.93       
    
    # Fallback Defaults (Used if calibration fails)
    default_lip_thickness: 0.025
    default_brow_squeeze: 0.33
    default_brow_drop: 0.35

# Report Generation Component

report_generation:
  llm:
    provider: "ollama"
    model_name: "llama3"  # Ya "mistral", jo bhi aapne install kiya ho
    base_url: "http://localhost:11434/api/generate"
    temperature: 0.7
    max_tokens: 600

  prompts:
    system_role: "You are an expert AI Interview Coach. Analyze behavioral and technical interview performance metrics to provide constructive feedback."
    
    user_template: |
      Here is the summary of the candidate's interview session:

      ### 1. Speech Analysis
      - Average Speaking Pace: {avg_wpm} WPM (Ideal: 110-160)
      - Pauses & Hesitation: {avg_pause_ratio}% silence.
      - Filler Words: {avg_filler_rate} freq.
      - Vocal Confidence: {avg_prosodic_confidence}/100.

      ### 2. Visual Analysis
      - Eye Contact: {avg_eye_contact}%
      - Dominant Emotion: {dominant_mood}
      - Nervousness Signs: {avg_nervousness}%

      ### 3. Transcript Snippet
      "{transcript_snippet}..."

      ### Task:
      Based on these metrics, provide:
      1. **Strengths:** (3 bullet points)
      2. **Areas for Improvement:** (3 actionable tips)
      3. **Overall Verdict:** (2-line summary)